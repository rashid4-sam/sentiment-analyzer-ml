<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#6366f1" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <script src="https://cdn.tailwindcss.com"></script>
  <title>AI Sentiment Analyzer</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap');
    
    * {
      font-family: 'Inter', sans-serif;
    }

    .gradient-bg {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }

    .gradient-text {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .glass-effect {
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.3);
    }

    .hover-lift {
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .hover-lift:hover {
      transform: translateY(-5px);
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
    }

    .animate-float {
      animation: float 3s ease-in-out infinite;
    }

    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-20px); }
    }

    .pulse-slow {
      animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: .7; }
    }

    .file-upload-wrapper {
      position: relative;
      overflow: hidden;
    }

    .file-upload-wrapper input[type=file] {
      position: absolute;
      opacity: 0;
      cursor: pointer;
      width: 100%;
      height: 100%;
    }

    .result-card {
      animation: slideIn 0.5s ease-out;
    }

    @keyframes slideIn {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .spinner {
      border: 3px solid rgba(255, 255, 255, 0.3);
      border-radius: 50%;
      border-top-color: #667eea;
      width: 40px;
      height: 40px;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }
  </style>
</head>

<body class="bg-gray-50">
  
  <!-- Hero Section -->
  <section class="gradient-bg min-h-screen relative overflow-hidden">
    <!-- Animated Background Elements -->
    <div class="absolute inset-0 overflow-hidden">
      <div class="absolute -top-40 -right-40 w-80 h-80 bg-purple-300 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-float"></div>
      <div class="absolute -bottom-40 -left-40 w-80 h-80 bg-indigo-300 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-float" style="animation-delay: 2s;"></div>
      <div class="absolute top-1/2 left-1/2 w-80 h-80 bg-pink-300 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-float" style="animation-delay: 4s;"></div>
    </div>

    <!-- Navigation -->
    <nav class="relative z-10 container mx-auto px-6 py-6">
      <div class="flex items-center justify-between">
        <div class="flex items-center space-x-3">
          <div class="w-10 h-10 bg-white rounded-lg flex items-center justify-center">
            <i class="fas fa-brain text-purple-600 text-xl"></i>
          </div>
          <span class="text-white font-bold text-xl">SentiAI</span>
        </div>
        <div class="hidden md:flex space-x-6 text-white">
          <a href="#features" class="hover:text-purple-200 transition">Features</a>
          <a href="#analyzer" class="hover:text-purple-200 transition">Analyzer</a>
          <a href="#about" class="hover:text-purple-200 transition">About</a>
        </div>
      </div>
    </nav>

    <!-- Hero Content -->
    <div class="relative z-10 container mx-auto px-6 pt-20 pb-32 text-center">
      <div class="max-w-4xl mx-auto">
        <div class="inline-block mb-4 px-4 py-2 bg-white/20 backdrop-blur-sm rounded-full text-white text-sm">
          <i class="fas fa-sparkles mr-2"></i>Powered by Advanced AI
        </div>
        <h1 class="text-5xl md:text-7xl font-bold text-white mb-6 leading-tight">
          Decode Emotions<br/>
          <span class="text-purple-200">Behind Every Word</span>
        </h1>
        <p class="text-xl text-purple-100 mb-8 max-w-2xl mx-auto">
          Transform text into insights with our cutting-edge sentiment analysis. Understand feelings, gauge opinions, and make data-driven decisions instantly.
        </p>
        <a href="#analyzer" class="inline-block bg-white text-purple-600 px-8 py-4 rounded-xl font-semibold text-lg hover:bg-purple-50 transition hover-lift">
          Start Analyzing <i class="fas fa-arrow-right ml-2"></i>
        </a>
      </div>
    </div>

    <!-- Wave Divider -->
    <div class="absolute bottom-0 left-0 right-0">
      <svg viewBox="0 0 1440 120" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M0 120L60 105C120 90 240 60 360 45C480 30 600 30 720 37.5C840 45 960 60 1080 67.5C1200 75 1320 75 1380 75L1440 75V120H1380C1320 120 1200 120 1080 120C960 120 840 120 720 120C600 120 480 120 360 120C240 120 120 120 60 120H0Z" fill="#F9FAFB"/>
      </svg>
    </div>
  </section>

  <!-- Features Section -->
  <section id="features" class="py-20 bg-gray-50">
    <div class="container mx-auto px-6">
      <div class="text-center mb-16">
        <h2 class="text-4xl font-bold gradient-text mb-4">Why Choose SentiAI?</h2>
        <p class="text-gray-600 text-lg">Powerful features to supercharge your sentiment analysis</p>
      </div>
      <div class="grid md:grid-cols-3 gap-8">
        <div class="bg-white p-8 rounded-2xl shadow-lg hover-lift">
          <div class="w-16 h-16 bg-purple-100 rounded-xl flex items-center justify-center mb-6">
            <i class="fas fa-bolt text-purple-600 text-2xl"></i>
          </div>
          <h3 class="text-xl font-bold mb-3">Lightning Fast</h3>
          <p class="text-gray-600">Get instant results with our optimized ML models. Process thousands of reviews in seconds.</p>
        </div>
        <div class="bg-white p-8 rounded-2xl shadow-lg hover-lift">
          <div class="w-16 h-16 bg-indigo-100 rounded-xl flex items-center justify-center mb-6">
            <i class="fas fa-chart-pie text-indigo-600 text-2xl"></i>
          </div>
          <h3 class="text-xl font-bold mb-3">Visual Insights</h3>
          <p class="text-gray-600">Beautiful charts and graphs that make understanding sentiment distribution effortless.</p>
        </div>
        <div class="bg-white p-8 rounded-2xl shadow-lg hover-lift">
          <div class="w-16 h-16 bg-pink-100 rounded-xl flex items-center justify-center mb-6">
            <i class="fas fa-file-csv text-pink-600 text-2xl"></i>
          </div>
          <h3 class="text-xl font-bold mb-3">Bulk Analysis</h3>
          <p class="text-gray-600">Upload CSV files for batch processing. Analyze hundreds of texts at once with ease.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Analyzer Section -->
  <section id="analyzer" class="py-20 bg-gradient-to-b from-gray-50 to-white">
    <div class="container mx-auto px-6">
      <div class="text-center mb-12">
        <h2 class="text-4xl font-bold gradient-text mb-4">Sentiment Analyzer</h2>
        <p class="text-gray-600 text-lg">Try it now - analyze single text or upload CSV for bulk analysis</p>
      </div>

      <div class="grid lg:grid-cols-2 gap-8 max-w-6xl mx-auto">
        
        <!-- Input Section -->
        <div class="bg-white rounded-2xl shadow-xl p-8 hover-lift">
          <h3 class="text-2xl font-bold mb-6 flex items-center">
            <i class="fas fa-upload text-purple-600 mr-3"></i>
            Input Your Data
          </h3>

          <!-- CSV Upload -->
          <div class="mb-6">
            <label class="block text-sm font-semibold text-gray-700 mb-3">
              <i class="fas fa-file-csv mr-2 text-indigo-600"></i>Upload CSV File
            </label>
            <div class="file-upload-wrapper border-2 border-dashed border-gray-300 rounded-xl p-6 text-center hover:border-purple-500 transition cursor-pointer bg-gray-50">
              <input type="file" id="csvFileInput" accept=".csv" onchange="displayFileName()">
              <i class="fas fa-cloud-upload-alt text-4xl text-gray-400 mb-3"></i>
              <p class="text-gray-600" id="fileLabel">Click to upload or drag and drop</p>
              <p class="text-sm text-gray-500 mt-2">CSV files only</p>
            </div>
          </div>

          <div class="relative mb-6">
            <div class="absolute inset-0 flex items-center">
              <div class="w-full border-t border-gray-300"></div>
            </div>
            <div class="relative flex justify-center text-sm">
              <span class="px-4 bg-white text-gray-500">OR</span>
            </div>
          </div>

          <!-- Text Input -->
          <div class="mb-6">
            <label class="block text-sm font-semibold text-gray-700 mb-3">
              <i class="fas fa-comment-dots mr-2 text-purple-600"></i>Enter Text for Analysis
            </label>
            <textarea 
              id="textInput" 
              rows="5"
              class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-purple-500 focus:outline-none transition resize-none"
              placeholder="Type or paste your text here..."></textarea>
          </div>

          <!-- Predict Button -->
          <button 
            onclick="predict()" 
            class="w-full bg-gradient-to-r from-purple-600 to-indigo-600 text-white py-4 rounded-xl font-semibold text-lg hover:from-purple-700 hover:to-indigo-700 transition transform hover:scale-105 shadow-lg">
            <i class="fas fa-magic mr-2"></i>Analyze Sentiment
          </button>
        </div>

        <!-- Results Section -->
        <div class="space-y-6">
          
          <!-- Prediction Result -->
          <div class="bg-white rounded-2xl shadow-xl p-8">
            <h3 class="text-2xl font-bold mb-6 flex items-center">
              <i class="fas fa-chart-line text-indigo-600 mr-3"></i>
              Analysis Result
            </h3>
            <div id="predictionResult" class="min-h-[100px] flex items-center justify-center text-gray-400">
              <div class="text-center">
                <i class="fas fa-info-circle text-5xl mb-3 opacity-30"></i>
                <p>Results will appear here</p>
              </div>
            </div>
          </div>

          <!-- Graph Result -->
          <div class="bg-white rounded-2xl shadow-xl p-8">
            <h3 class="text-2xl font-bold mb-6 flex items-center">
              <i class="fas fa-chart-pie text-pink-600 mr-3"></i>
              Distribution Chart
            </h3>
            <div id="graphContainer" class="min-h-[300px] flex items-center justify-center">
              <div class="text-center text-gray-400">
                <i class="fas fa-chart-area text-5xl mb-3 opacity-30"></i>
                <p>Chart will appear here</p>
              </div>
            </div>
          </div>

          <!-- Download Button -->
          <button 
            id="downloadBtn" 
            style="display:none" 
            onclick="downloadPredictions()" 
            class="w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white py-4 rounded-xl font-semibold text-lg hover:from-green-600 hover:to-emerald-700 transition transform hover:scale-105 shadow-lg">
            <i class="fas fa-download mr-2"></i>Download Results
          </button>
        </div>

      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="bg-gray-900 text-white py-12">
    <div class="container mx-auto px-6 text-center">
      <div class="flex items-center justify-center space-x-3 mb-4">
        <div class="w-10 h-10 bg-purple-600 rounded-lg flex items-center justify-center">
          <i class="fas fa-brain text-white"></i>
        </div>
        <span class="font-bold text-xl">SentiAI</span>
      </div>
      <p class="text-gray-400 mb-6">Advanced Sentiment Analysis Powered by Machine Learning</p>
      <div class="flex justify-center space-x-6 mb-6">
        <a href="#" class="text-gray-400 hover:text-white transition"><i class="fab fa-twitter text-xl"></i></a>
        <a href="#" class="text-gray-400 hover:text-white transition"><i class="fab fa-github text-xl"></i></a>
        <a href="#" class="text-gray-400 hover:text-white transition"><i class="fab fa-linkedin text-xl"></i></a>
      </div>
      <p class="text-gray-500 text-sm">© 2024 SentiAI. All rights reserved.</p>
    </div>
  </footer>

  <script>
    let csvBlobData = null;

    function displayFileName() {
      const input = document.getElementById('csvFileInput');
      const label = document.getElementById('fileLabel');
      if (input.files.length > 0) {
        label.innerHTML = '<i class="fas fa-check-circle text-green-500 mr-2"></i>' + input.files[0].name;
      }
    }

    function predict() {
      const csvFileInput = document.getElementById("csvFileInput");
      const textInput = document.getElementById("textInput");
      const predictionResult = document.getElementById("predictionResult");
      const graphContainer = document.getElementById("graphContainer");

      predictionResult.innerHTML = "";
      graphContainer.innerHTML = "";
      document.getElementById("downloadBtn").style.display = "none";

      if (csvFileInput.files.length > 0) {
        const formData = new FormData();
        formData.append("file", csvFileInput.files[0]);

        predictionResult.innerHTML = `
          <div class="flex flex-col items-center">
            <div class="spinner mb-4"></div>
            <p class="text-purple-600 font-semibold">Analyzing your data...</p>
          </div>
        `;

        fetch("http://localhost:5000/predict", {
          method: "POST",
          body: formData
        })
          .then(response => response.json())
          .then(data => {
            if (data.success) {
              csvBlobData = base64ToBlob(data.csv_data, 'text/csv');
              displayGraph(data.graph_data);
              
              predictionResult.innerHTML = `
                <div class="result-card bg-green-50 border-l-4 border-green-500 p-6 rounded-lg">
                  <div class="flex items-center">
                    <i class="fas fa-check-circle text-green-500 text-3xl mr-4"></i>
                    <div>
                      <h4 class="font-bold text-green-800 text-lg">Analysis Complete!</h4>
                      <p class="text-green-700">Your sentiment analysis has been processed successfully.</p>
                    </div>
                  </div>
                </div>
              `;
              
              document.getElementById("downloadBtn").style.display = "block";
            } else if (data.error) {
              predictionResult.innerHTML = `
                <div class="bg-red-50 border-l-4 border-red-500 p-6 rounded-lg">
                  <div class="flex items-center">
                    <i class="fas fa-exclamation-circle text-red-500 text-3xl mr-4"></i>
                    <div>
                      <h4 class="font-bold text-red-800 text-lg">Error</h4>
                      <p class="text-red-700">${data.error}</p>
                    </div>
                  </div>
                </div>
              `;
            }
          })
          .catch(error => {
            predictionResult.innerHTML = `
              <div class="bg-red-50 border-l-4 border-red-500 p-6 rounded-lg">
                <div class="flex items-center">
                  <i class="fas fa-exclamation-triangle text-red-500 text-3xl mr-4"></i>
                  <div>
                    <h4 class="font-bold text-red-800 text-lg">Connection Error</h4>
                    <p class="text-red-700">${error.message}</p>
                  </div>
                </div>
              </div>
            `;
          });

      } else if (textInput.value.trim() !== "") {
        predictionResult.innerHTML = `
          <div class="flex flex-col items-center">
            <div class="spinner mb-4"></div>
            <p class="text-purple-600 font-semibold">Analyzing sentiment...</p>
          </div>
        `;

        fetch("http://localhost:5000/predict", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ "text": textInput.value.trim() })
        })
          .then(response => response.json())
          .then(data => {
            if (data.prediction) {
              const isPositive = data.prediction === "Positive";
              predictionResult.innerHTML = `
                <div class="result-card text-center p-8">
                  <i class="fas ${isPositive ? 'fa-smile' : 'fa-frown'} text-6xl ${isPositive ? 'text-green-500' : 'text-red-500'} mb-4"></i>
                  <h4 class="text-2xl font-bold mb-2">Sentiment Detected</h4>
                  <div class="inline-block px-6 py-3 rounded-full ${isPositive ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'} font-bold text-xl">
                    ${data.prediction}
                  </div>
                </div>
              `;
            } else if (data.error) {
              predictionResult.innerHTML = `
                <div class="bg-red-50 border-l-4 border-red-500 p-6 rounded-lg">
                  <p class="text-red-700"><i class="fas fa-exclamation-circle mr-2"></i>${data.error}</p>
                </div>
              `;
            }
          })
          .catch(error => {
            predictionResult.innerHTML = `
              <div class="bg-red-50 border-l-4 border-red-500 p-6 rounded-lg">
                <p class="text-red-700"><i class="fas fa-exclamation-triangle mr-2"></i>${error.message}</p>
              </div>
            `;
          });
      } else {
        predictionResult.innerHTML = `
          <div class="bg-yellow-50 border-l-4 border-yellow-500 p-6 rounded-lg">
            <p class="text-yellow-700"><i class="fas fa-info-circle mr-2"></i>Please upload a CSV file or enter text for analysis.</p>
          </div>
        `;
      }
    }

    function downloadPredictions() {
      if (csvBlobData) {
        const url = URL.createObjectURL(csvBlobData);
        const a = document.createElement("a");
        a.href = url;
        a.download = "Predictions.csv";
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);
      }
    }

    function displayGraph(graphData) {
      const graphContainer = document.getElementById("graphContainer");
      graphContainer.innerHTML = `
        <div class="result-card">
          <img src="data:image/png;base64,${graphData}" alt="Sentiment Distribution" class="w-full h-auto rounded-lg shadow-md">
        </div>
      `;
    }

    function base64ToBlob(base64, contentType) {
      const byteCharacters = atob(base64);
      const byteArrays = [];
      for (let i = 0; i < byteCharacters.length; i++) {
        byteArrays.push(byteCharacters.charCodeAt(i));
      }
      return new Blob([new Uint8Array(byteArrays)], { type: contentType });
    }

    // Smooth scroll for anchor links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          target.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
      });
    });
  </script>

</body>
</html>